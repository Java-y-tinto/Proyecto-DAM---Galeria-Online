<!-- product.component.html -->
<div class="container mx-auto px-4 py-8">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="bg-teal-100 py-2 w-full border-b border-gray-200 mb-8">
      <div class="max-w-full px-4">
        <ol class="list-none p-0 flex items-start space-x-2 justify-start text-sm">
          <li class="flex items-center">
            <a routerLink="/" class="text-blue-600 hover:text-blue-800 hover:underline">Inicio</a>
            <span class="mx-2 text-gray-400">/</span>
          </li>
          <li class="flex items-center">
            <a (routerLink)="['/catalogo', producto?.categoria]" class="text-blue-600 hover:text-blue-800 hover:underline">
              {{ producto?.categoria }}
            </a>
            <span class="mx-2 text-gray-400">/</span>
          </li>
          <li class="flex items-center">
            <span class="text-gray-500">{{ producto?.nombre }}</span>
          </li>
        </ol>
      </div>
    </nav>
  
    @if (loading) {
      <div class="flex justify-center items-center h-64">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"></div>
      </div>
    } @else if (error) {
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
        {{ error }}
      </div>
    } @else if (producto) {
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Galería de imágenes -->
        <div class="space-y-4">
          @if (imagenesProducto.length > 0) {
            @for (imagen of imagenesProducto; track imagen) {
              <img 
                [src]="imagen" 
                [alt]="producto.nombre" 
                class="w-full rounded shadow-md"
              />
            }
          } @else {
            <div class="bg-gray-200 h-80 w-full flex items-center justify-center">
              <span class="text-gray-500">Imagen no disponible</span>
            </div>
          }
        </div>
  
        <!-- Información del producto -->
        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
          <h1 class="text-2xl font-semibold text-gray-800 mb-2">{{ producto.nombre }}</h1>
          <p class="text-sm text-gray-600 uppercase tracking-wider mb-4">{{ producto.categoria }}</p>
          
          <div class="my-4">
            <div class="flex items-center">
              <span class="text-2xl font-bold text-gray-900">{{ producto.precio | currency:'EUR':'symbol':'1.0-0' }}</span>
            </div>
          </div>
  
          <hr class="border-gray-200 my-4" />
  
          <div class="prose prose-sm max-w-none mb-6">
            <p>{{ producto.descripcion }}</p>
            <!-- Puedes añadir más detalles del producto aquí -->
          </div>
  
          <button 
            (click)="anadirAlCarrito()" 
            class="w-full bg-indigo-600 text-white py-3 px-4 rounded hover:bg-indigo-700 transition duration-300"
          >
            AÑADIR AL CARRITO
          </button>
        </div>
      </div>
  
      <!-- Productos relacionados -->
      <div class="mt-16">
        <h2 class="text-xl font-semibold text-gray-800 mb-6 text-center">Puede que también te guste...</h2>
        
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
          @for (producto of productosRelacionados; track producto.id) {
            <app-producto 
              [id]="producto.id"
              [nombre]="producto.nombre"
              [precio]="producto.precio.toString()"
              [imageSrc]="producto.imageSrc"
              [categoria]="producto.categoria"
              [descripcion]="producto.descripcion"
            ></app-producto>
          }
        </div>
      </div>
    }
  </div>